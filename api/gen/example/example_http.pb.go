// Code generated by protoc-gen-go-ellie-http. DO NOT EDIT.
// versions:
// - protoc-gen-go-ellie-http v1.0.0
// - protoc             (unknown)
// source: example/example.proto

package example

import (
	context "context"
	http "github.com/Dizzrt/ellie/transport/http"
	ginx "github.com/Dizzrt/ellie/transport/http/ginx"
	gin "github.com/gin-gonic/gin"
)

var _ = new(context.Context)
var _ = new(gin.Engine)
var _ = new(http.Server)
var _ = new(ginx.Ginx)

const OperationExampleHello = "/Example/Hello"

type ExampleHTTPServer interface {
	Hello(context.Context, *HelloRequest) (*HelloResponse, error)
}

func RegisterExampleHTTPServer(hs *http.Server, srv ExampleHTTPServer) {
	r := hs.Engine()
	r.GET("/example/hello/:name", _Example_Hello_0_HTTP_Handler(hs, srv))
}
func _Example_Hello_0_HTTP_Handler(hs *http.Server, srv ExampleHTTPServer) gin.HandlerFunc {
	return func(ctx *gin.Context) {
		var req HelloRequest
		if err := ginx.DecodeRequest(ctx, &req); err != nil {
			ctx.JSON(http.StatusBadRequest, hs.WrapHTTPResponse(nil, err))
			ctx.Abort()
			return
		}

		res, err := srv.Hello(ctx.Request.Context(), &req)
		if err != nil {
			ctx.JSON(http.HTTPStatusCodeFromError(err), hs.WrapHTTPResponse(res, err))
			ctx.Abort()
			return
		}

		hs.EncodeResponse(ctx, res, err)
	}
}
